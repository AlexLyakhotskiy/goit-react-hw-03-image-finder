{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Container/Container.module.scss","components/LoaderContainer/LoaderContainer.module.scss","components/ImageGallery/Button/Button.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/LoaderContainer/LoaderContainer.js","components/ImageGallery/Button/Button.js","components/Modal/Modal.js","utils/apiService.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Container","children","className","styles","Searchbar","state","searchQuery","onInputChange","e","target","name","value","setState","toLowerCase","onSubmit","preventDefault","trim","toast","error","props","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","id","onImgClick","onClick","src","alt","ImageGalleryItemImage","LoaderContainer","container","color","height","width","Button","onBtnLoadMoreClick","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","event","currentTarget","window","addEventListener","body","style","overflow","removeEventListener","createPortal","overlay","modal","api","page","fetchArticles","url","fetch","response","json","data","totalHits","Promise","reject","incrementPage","resetPage","ImageGallery","imgArr","imgInModal","pending","saveImages","img","find","largeImageURL","prevProps","prevState","prevQuery","nextQuery","prevImgArr","nextImgArr","length","scrollTo","top","documentElement","scrollHeight","behavior","then","hits","catch","finally","map","App","onAddQuery","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c11c10bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__287-y\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1vZAi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2BD1H\",\"modal\":\"Modal_modal__1NiY0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1DPYO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoaderContainer_container__2YlHs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2z6GA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__GhrIT\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Container.module.scss';\n\nconst Container = ({ children }) => (\n  <div className={styles.Container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.scss';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = { searchQuery: '' };\r\n\r\n  onInputChange = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value.toLowerCase() });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchQuery.trim() === '') {\r\n      return toast.error('please enter query');\r\n    }\r\n    this.props.onSubmit(this.state);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.onSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            onChange={this.onInputChange}\r\n            value={searchQuery}\r\n            className={styles.SearchFormInput}\r\n            name=\"searchQuery\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGalleryItem.module.scss';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, id, onImgClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={() => onImgClick(id)}>\r\n      <img src={webformatURL} alt=\"\" className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import Loader from 'react-loader-spinner';\r\n\r\nimport styles from './LoaderContainer.module.scss';\r\n\r\nconst LoaderContainer = () => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#6e7b80\"\r\n        height={80}\r\n        width={80}\r\n        //   timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderContainer;\r\n","import styles from './Button.module.scss';\r\n\r\nconst Button = ({ onBtnLoadMoreClick }) => {\r\n  return (\r\n    <button\r\n      onClick={onBtnLoadMoreClick}\r\n      type=\"button\"\r\n      className={styles.button}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    closeModal: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n    document.body.style.overflow = 'auto';\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div onClick={this.handleBackdropClick} className={styles.overlay}>\r\n        <div className={styles.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","const apiUrl = 'https://pixabay.com/api/';\r\nconst apiKey = '22632103-559b096d748294a4f3f26d1f6';\r\nconst restApiQuery = '&image_type=photo&orientation=horizontal&per_page=12';\r\n\r\n// function fetchArticles(name, page) {\r\n//   const url = `${apiUrl}?q=${name}&page=${page}&key=${apiKey}${restApiQuery}`;\r\n\r\n//   return fetch(url).then(r => {\r\n//     if (r.ok) {\r\n//       return r.json();\r\n//     }\r\n\r\n//     return Promise.reject(new Error(`Nothing matches found. ${name}`));\r\n//   });\r\n// }\r\n\r\n// const api = {\r\n//   fetchArticles,\r\n// };\r\n\r\nconst api = {\r\n  searchQuery: '',\r\n  page: 1,\r\n\r\n  async fetchArticles() {\r\n    const url = `${apiUrl}?q=${this.searchQuery}&page=${this.page}&key=${apiKey}${restApiQuery}`;\r\n\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    if (!data.totalHits) {\r\n      return Promise.reject(\r\n        `On your query \"${this.searchQuery}\" nothing matches found. `,\r\n      );\r\n    }\r\n    this.incrementPage();\r\n    return data;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport LoaderContainer from '../LoaderContainer';\r\nimport Button from './Button/Button';\r\nimport Modal from '../Modal/Modal';\r\n\r\nimport api from '../../utils/apiService';\r\n\r\nimport styles from './ImageGallery.module.scss';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    searchQuery: PropTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    imgArr: [],\r\n    imgInModal: '',\r\n    pending: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.searchQuery;\r\n    const nextQuery = this.props.searchQuery;\r\n    const prevImgArr = prevState.imgArr;\r\n    const nextImgArr = this.state.imgArr;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ pending: true, imgArr: [] });\r\n      api.searchQuery = nextQuery;\r\n      api.resetPage();\r\n      this.saveImages();\r\n    }\r\n\r\n    if (prevImgArr.length && prevImgArr !== nextImgArr) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ imgInModal: '' });\r\n  };\r\n\r\n  onBtnLoadMoreClick = () => {\r\n    api.incrementPage();\r\n    this.saveImages();\r\n  };\r\n\r\n  onImgClick = id => {\r\n    const { imgArr } = this.state;\r\n    const img = imgArr.find(e => e.id === id).largeImageURL;\r\n    this.setState({ imgInModal: img });\r\n  };\r\n\r\n  saveImages() {\r\n    this.setState({ pending: true });\r\n    api\r\n      .fetchArticles()\r\n      .then(({ hits }) =>\r\n        this.setState(({ imgArr }) => ({\r\n          imgArr: [...imgArr, ...hits],\r\n        })),\r\n      )\r\n      .catch(error => toast.error(`${error}`))\r\n      .finally(this.setState({ pending: false }));\r\n  }\r\n\r\n  render() {\r\n    const { imgArr, imgInModal, pending } = this.state;\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {imgArr.map(({ id, webformatURL }) => (\r\n            <ImageGalleryItem\r\n              webformatURL={webformatURL}\r\n              key={id}\r\n              id={id}\r\n              onImgClick={this.onImgClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {imgArr.length && !pending ? (\r\n          <Button onBtnLoadMoreClick={this.onBtnLoadMoreClick} />\r\n        ) : (\r\n          ''\r\n        )}\r\n        {pending && <LoaderContainer />}\r\n\r\n        {imgInModal && (\r\n          <Modal closeModal={this.closeModal}>\r\n            <img src={imgInModal} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = { searchQuery: '' };\n\n  onAddQuery = ({ searchQuery }) => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onAddQuery} />\n        <ImageGallery searchQuery={searchQuery} />\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './styles.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2r5-b\",\"SearchForm\":\"Searchbar_SearchForm__2dmbt\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3JjHW\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1IeAl\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2UUy5\"};"],"sourceRoot":""}